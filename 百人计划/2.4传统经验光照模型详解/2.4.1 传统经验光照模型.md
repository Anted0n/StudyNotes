# 传统经验光照模型

---
## 目录
* 光照模型的定义
* 局部光照模型
* 经典光照模型

---
## 光照模型的定义
模拟自然物理光照的计算机过程。一种是基于物理理论的，一种是基于经验模型的。

---
## 局部光照模型
局部光照模型只关心直接光照部分，不考虑其他物体反射的间接光。
### 漫反射
向四周均匀散射的反射光。漫反射光照符合Lambert定律，反射光强与法线和光源方向之间的夹角的余弦值成正比。
#### Lambert定律
$$
color = C_{light}*albedo*dot(normal,light)
$$
### 高光反射
光线在物体发生了镜面反射时，观察视线在反射光线附近可以观察到高光反射
$$
C_{specular}=C_{light}*m_{specular}*dot(v,r)^{m_{gloss}}\\
r=I-2*dot(n,l)*n
$$
### 环境光
局部光照模型并不考虑间接光照，使用环境光对此进行弥补
$$
C_{ambient}=albedo*Ambient_{light}
$$
### 自发光
通常作为单独的一项加入光照模型，使用一张发光贴图描述物体的自发光

---
## 经典光照模型
### Lambert模型
基于Lambert余弦定律构造
#### 光照公式
$$
color=C_{light}*albedo*dot(normal,light)
$$
### Phong模型
第一个有影响力的光照模型，考虑了局部光照模型的各项
#### 光照公式
$$
C_{final}=A_{light}*albedo+C_{light}*(albedo*dot(l,n)+m_{specular}*dot(v,r)^{m_{gloss}})
$$
### Blinn-Phong模型
不再依赖反射向量，而是引入**半程向量**，即光线与视线夹角一半的一个单位向量。当半程向量与法线向量越接近，镜面光分量越大。
#### 光照公式
$$
C_{final}=A_{light}*albedo+C_{light}*(albedo*dot(l,n)+m_{specular}*dot(h,n)^{m_{gloss}})
$$
### Flat模型
平面着色模型，计算多边形的单个强度，每个三角形只有一个法线方向，以相同的光强度值显示多边形的所有点。通常适用于lowPoly风格的场景
## 作业
学习先行版**基础渲染光照介绍(一)**，并说出能量守恒的理念在基础光照模型中的作用。
基于能量守恒的理念，自己写一套完整的光照模型，需要包含环境光照。